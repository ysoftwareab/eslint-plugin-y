#!/usr/bin/env bash
set -euo pipefail

DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
CONFIG=${1:-eslint}
# shellcheck disable=SC1091
source ${DIR}/config.inc.sh

[[ -n "${PLUGIN}" ]] || {
    >&2 echo "[WARN] ${CONFIG} is a 0 or multi-plugin config."
    exit 0
}

cd ${DIR}/..

eslint --no-eslintrc -c ${DIR}/../${ESLINTRC} --print-config foo.js | \
    jq -r ".rules | keys[]" | sort | { grep "^${PLUGIN_RULE_PREFIX:-.}" || true; }
